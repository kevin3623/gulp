!function(){var e=window.navigator.userAgent.toLowerCase();if(navigator.userAgent.match(/micromessenger/gi)&&e.match(/miniprogram/gi))(a=document.createElement("script")).type="text/javascript",a.src="//res.wx.qq.com/open/js/jweixin-1.4.0.js",document.getElementsByTagName("head")[0].appendChild(a);else if(navigator.userAgent.match(/alipayclient/gi)&&navigator.userAgent.match(/miniprogram/gi)){var a;(a=document.createElement("script")).type="text/javascript",a.src="https://appx/web-view.min.js",document.getElementsByTagName("head")[0].appendChild(a)}var d=[{funName:"youDunFaceDetection",param:!0,reFun:!0,staticType:0},{funName:"youDunIDCard",param:!0,reFun:!0,staticType:0},{funName:"alert",param:!0,reFun:null,staticType:0},{funName:"config",param:!0,reFun:!0,staticType:0},{funName:"userLogin",param:!0,reFun:!0,staticType:0},{funName:"cpScanCode",param:!0,reFun:!0,staticType:0},{funName:"scanCode",param:!0,reFun:!0,staticType:0},{funName:"chooseImage",param:!0,reFun:!0,staticType:0},{funName:"chooseVideo",param:!0,reFun:!0,staticType:0},{funName:"getLocation",param:!0,reFun:!0,staticType:0},{funName:"choosePhoneContact",param:!0,reFun:!0,staticType:0},{funName:"pay",param:!0,reFun:!0,staticType:0},{funName:"requireAuth",param:!0,reFun:!0,staticType:0},{funName:"goNative",param:!0,reFun:!0,staticType:0},{funName:"faceDetection",param:!0,reFun:!0,staticType:0},{funName:"faceDetectionImage",param:!0,reFun:!0,staticType:0},{funName:"getIdCardPhoto",param:!0,reFun:!0,staticType:0},{funName:"closeWebview",param:!1,reFun:!1,staticType:0},{funName:"getAuthcode",param:!0,reFun:!0,staticType:0},{funName:"wechatPay",param:!0,reFun:!0,staticType:0},{funName:"smkAccountPay",param:!0,reFun:!0,staticType:0},{funName:"startVoice",param:!0,reFun:!0,staticType:0},{funName:"endVoice",param:!0,reFun:!0,staticType:0},{funName:"faceDetection",param:!0,reFun:!0,staticType:0},{funName:"setTitle",param:!0,reFun:!0,staticType:0},{funName:"loginOut",param:!0,reFun:!0,staticType:0},{funName:"openMap",param:!0,reFun:!0,staticType:0},{funName:"share",param:!0,reFun:!0,staticType:0},{funName:"makePhoneCall",param:!0,reFun:!0,staticType:0},{funName:"alert",param:!0,reFun:!0,staticType:0},{funName:"showRightIcon",param:!0,reFun:!0,staticType:0},{funName:"evaluate",param:!0,reFun:!0,staticType:0},{funName:"confirmAlert",param:!0,reFun:!0,staticType:0},{funName:"showToast",param:!0,reFun:!0,staticType:0},{funName:"showLoading",param:!0,reFun:!0,staticType:0},{funName:"appShare",param:!0,reFun:!0,staticType:0},{funName:"hideLoading",param:!1,reFun:!1,staticType:0},{funName:"showActionSheet",param:!0,reFun:!0,staticType:1},{funName:"setTitleBarText",param:!0,reFun:!0,staticType:0},{funName:"setTitleBarLeftButton",param:!0,reFun:!0,staticType:1},{funName:"setTitleBarRightButton",param:!0,reFun:!0,staticType:1},{funName:"downloadfile",param:!0,reFun:!0,staticType:0},{funName:"collection",param:!0,reFun:!0,staticType:0}];window.yl={loaded:0,readyType:0,readyList:{},getSystemInfo:function(){var e=navigator.userAgent.toLowerCase(),i={h5ContainerVersion:void 0,appVersion:void 0,systemId:"hzbs",appPlaform:void 0};function a(e){var a=location.href.split("?")[1];if(a){for(var t=a.split("&"),i=0;i<t.length;i++){var n=t[i].split("=");if(n[0]==e)return n[1]}return!1}return!1}function t(e,a){var t=e.split(":");Boolean(t[0].match(/ylh5containerversion/gi))?i.h5ContainerVersion=t[1].replace("&yl",""):Boolean(t[0].match(/ylappversion/gi))&&(i.appVersion=t[1].replace("&yl",""))}if(console.log(888,e),Boolean(e.match(/android/gi)))Boolean(navigator.userAgent.match(/ylsystemid:hzbs&yl/gi))?(i.appPlaform="android",navigator.userAgent.split(";").forEach(t)):(a("h5ContainerVersion")||a("appVersion")||a("appPlaform"))&&(i.h5ContainerVersion=a("h5ContainerVersion")||"",i.appVersion=a("appVersion")||"",i.appPlaform=a("appPlaform")||"");else if(Boolean(navigator.userAgent.match(/iphone|ipod|ipad/gi)))if(console.log("ios"),window.yluareplace&&window.yluareplace.appVersion){console.log("ios","1");var n=window.yluareplace;n?("string"==typeof n&&(n=JSON.parse(n)),i.appVersion=n.appVersion,i.h5ContainerVersion=n.h5ContainerVersion||n.version,i.systemId=n.systemId,i.appPlaform=n.appPlaform||n.appPlatform):console.warn("获取容器版本错误")}else if(Boolean(navigator.userAgent.match(/ylsystemid:hzbs&yl/gi))){console.log("ios","2.1"),i.appPlaform="ios",navigator.userAgent.split(";").forEach(t)}else console.log("ios","3.1"),(a("h5ContainerVersion")||a("appVersion")||a("appPlaform"))&&(i.h5ContainerVersion=a("h5ContainerVersion")||"",i.appVersion=a("appVersion")||"",i.appPlaform=a("appPlaform")||"");else i.systemId="hzbs";return i},hasReady:function(){console.log("event ready!");var e=window.yl.readyList;for(var a in e)window.jsbridge.add(e[a]),delete window.yl.readyList[a]},readydo:function(){},ready:function(e){this.readydo=e},call:function(e,a,t){console.log("方法构造");var i=function(e){for(var a=0;a<d.length;a++){var t=d[a];if(e===t.funName)return t}return!1}(e);if(!i)return console.warn("非法调用"),!1;if(i.param&&(i.param=a),i.reFun){if(!t)return console.log("需要传入回调"),console.warn("需要传入回调");i.reFun=t}if("evaluate"===e)if(window.yluareplace&&window.yluareplace.appVersion)if(window.jsbridge)window.jsbridge.add(i);else{var n="ListItem"+(new Date).getTime();this.readyList[n]=i}else console.log(e,a,t),location.href="https://test.iconntech.com/united_h5/testEval.html?caseId="+a.evaluateRequest.caseId;else if("getAuthcode"===e){var r=/auth[cC]ode=/i,o=location.href;if(window.sessionStorage.getItem("sdk_token")||r.test(o)){if(window.sessionStorage.getItem("sdk_token"))console.log("url-storage"),"function"==typeof t.onSuccess?t.onSuccess({errorCode:"0",param:{authCode:window.sessionStorage.getItem("sdk_token")}}):console.log("回调中没有onSuccess函数");else if(r.test(o)){var s=location.search,p=location.hash,m=r.test(s)?s.substr(1).match(/(^|&)auth[cC]ode=([^&]*)(&|$)/)[2]:p.split("?")[1].match(/(^|&)auth[cC]ode=([^&]*)(&|$)/)[2];"function"==typeof t.onSuccess?(window.sessionStorage.setItem("sdk_token",decodeURIComponent(m)),t.onSuccess({errorCode:"0",param:{authCode:decodeURIComponent(m)}})):console.log("回调中没有onSuccess函数")}}else if(window.jsbridge)window.jsbridge.add(i);else{n="ListItem"+(new Date).getTime();this.readyList[n]=i}}else if("closeWebview"===e)if(window.yluareplace&&window.yluareplace.appVersion)if(window.jsbridge)window.jsbridge.add(i);else{n="ListItem"+(new Date).getTime();this.readyList[n]=i}else{var c=window.navigator.userAgent.toLowerCase();if(c.match(/micromessenger/gi)&&c.match(/miniprogram/gi))wx.miniProgram.navigateBack({delta:window.history.length-1});else if(c.match(/alipayclient/gi)&&c.match(/miniprogram/gi))my.navigateBack({delta:window.history.length-1});else{n="ListItem"+(new Date).getTime();this.readyList[n]=i}}else if("alert"===e){if(window.yluareplace&&window.yluareplace.appVersion)if(window.jsbridge)window.jsbridge.add(i);else{n="ListItem"+(new Date).getTime();this.readyList[n]=i}else if(alert("请直接使用alert"),!window.jsbridge){n="ListItem"+(new Date).getTime();this.readyList[n]=i}}else if("showLoading"===e)if(console.log("showLoading"),window.yluareplace&&window.yluareplace.appVersion)if(window.jsbridge)window.jsbridge.add(i);else{n="ListItem"+(new Date).getTime();this.readyList[n]=i}else{var l=document.createElement("div");if(l.innerHTML='<div class="wrapper loading" style="width:100%;height:100%;margin-top:50%"><div style="width:250px;height:250px;margin:0 auto;"><img src="loading2.gif" style="width:100%;height:100%;"></div></div>',document.body.appendChild(l),!window.jsbridge){n="ListItem"+(new Date).getTime();this.readyList[n]=i}}else if("hideLoading"===e){if(window.yluareplace&&window.yluareplace.appVersion)if(window.jsbridge)window.jsbridge.add(i);else{n="ListItem"+(new Date).getTime();this.readyList[n]=i}else if(console.log("hideLoading"),document.querySelector(".loading").style.display="none",!window.jsbridge){n="ListItem"+(new Date).getTime();this.readyList[n]=i}}else if(window.jsbridge)window.jsbridge.add(i);else{n="ListItem"+(new Date).getTime();this.readyList[n]=i}}}}();